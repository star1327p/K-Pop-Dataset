---
title: K-Pop Data Analysis
author:
- Christine P. Chai
- cpchai21@gmail.com
date: \today
header-includes:
  - \usepackage{fontspec} # use fontspec package
  - \usepackage{xeCJK}    # use xeCJK package
  - \setCJKmainfont{標楷體} # font for Windows (Chinese and Japanese)
  - \setCJKmonofont{標楷體} # font for Windows (Chinese and Japanese)
  - \renewcommand{\and}{\\}
output: 
  pdf_document:
    latex_engine: xelatex
    extra_dependencies: float
    number_sections: true
    citation_package: natbib
bibliography: references.bib
biblio-style: apalike
link-citations: true    
---

\renewcommand{\cite}{\citep}

```{r latex-cite-command, include=FALSE}
# %\let\cite\citep
# % from \citep to \cite to cite in author style, e.g. [Mule, 2008]

# % \bibliographystyle{plainnat}
# %\citep: citation in parentheses, e.g. [Mule, 2008]
# %\citet: citation as author, e.g. Mule [2008]
# %\cite: citation as author, \citet by default 
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

def.chunk.hook <- knitr::knit_hooks$get("chunk")
knitr::knit_hooks$set(chunk = function(x, options) {
  x <- def.chunk.hook(x, options)
  ifelse(options$size != "normalsize", paste0("\n \\", options$size,"\n\n", x, "\n\n \\normalsize"), x)
})

knitr::opts_chunk$set(fig.width=6, fig.align = 'center', fig.pos = "H", out.extra = "")
```

Starting in 2024.  

# Executive Summary {.unnumbered}

Write something here

# Disclaimer {.unnumbered}

This manuscript is written solely by the author, not by ChatGPT or any other generative AI. The opinions and views expressed in this manuscript are those of the author, and do not necessarily state or reflect those of any institution or government entity.    

# Introduction

\textcolor{red}{Important: Write about why K-Pop music is so popular across the globe.}   

K-Pop music has emerged popularity worldwide since the early 2010's \cite{khiun2013k-pop, sun2022identifying}.   

\textcolor{red}{Then write about the author's motivation}   

The author became interested in K-Pop music (Korean pop music) from the debut of Tzuyu (Chou Tzu-Yu, 周子瑜).^[<https://en.wikipedia.org/wiki/Tzuyu>]  

Tzuyu is originally from Taiwan, the country in which the author grew up. In 2015, Tzuyu participated in the South Korean reality television show *SIXTEEN*,^[<https://en.wikipedia.org/wiki/Sixteen_(TV_program)>] and eventually got added to the newly-formed girl group *TWICE*.^[<https://en.wikipedia.org/wiki/Twice>]   

Later that year, ...       

Describe the flag controversy incident.^[<https://bit.ly/3DOcNlP>]   

(a lot more content here)  


\textcolor{red}{Important: Write about the K-Pop scandal revealed in 2019 and later.} 

<https://en.wikipedia.org/wiki/Mnet_vote_manipulation_investigation>  

Started with the *Produce X 101* (2019)  
<https://en.wikipedia.org/wiki/Produce_X_101>  

The mysterious 29978 number in *Produce X 101*:  
<https://www.koreaboo.com/news/produce-x-101-rigged-votes-final-members/>  

Mnet admitted to manipulating the votes in the *Produce 101* series and the subsequent reality shows, including *Idol School*.   
<https://www.popdaily.com.tw/korea/846603>  

*Idol School*: Vote Manipulation Investigation (2019)   
<https://www.ptt.cc/bbs/KoreaStar/M.1624467107.A.D7F.html>  

## Technical Narrative

This manuscript is created using `R` Markdown \cite{r-markdown}^[<https://rmarkdown.rstudio.com/>] for reproducible data analysis, just like our earlier technical report about the education in Taiwan \cite{chai2024statistical}. We have posted our code and data on GitHub,^[<https://github.com/star1327p/K-Pop-Dataset>] so readers can download the GitHub repository and play with the script themselves.    

\textcolor{red}{The rest of this manuscript is organized as follows.}   

e.g. Chapter 23 does something.   

## Read in the *Idol School* Dataset

*Idol School* (偶像學校) (2017)

Motivation: One of the contestants, Snowbaby (蔡瑞雪),^[Snowbaby's YouTube channel: <https://www.youtube.com/@snowbaby>] is also from Taiwan. In fact, Snowbaby^[<https://bit.ly/424u3gv>] graduated from Taipei First Girls' High School,^[<https://www.fg.tp.edu.tw/>] the same high school as the author did.   

\textcolor{red}{Emphasize that \textit{Idol School} did not require vocal or dance experience and was willing to train the participants from scratch. Despite the low barrier to entry, many participants in the reality show had previously trained under various entertainment companies.}   

In the live reality show *Idol School*, nine winners were selected to form the girl group *fromis_9*.^[<https://en.wikipedia.org/wiki/Fromis_9>] This girl group debuted in 2018 and remained active until the contract ended in 2024.  

\textcolor{red}{Need to write the data description}  

Wikipedia data: <https://en.wikipedia.org/wiki/List_of_Idol_School_contestants>  

We manually copy-pasted the contestant data from Wikipedia into a Microsoft Excel workbook (`.xlsx`), and used the `R` package `readxl` \cite{r-read-xl} to load the dataset. A main advantage of `.xlsx` over `.csv` is that we can have multiple data sheets in the same Excel file for consolidation. Moreover, Excel supports Chinese characters, so we can also include the Chinese names of each contestant. Since the English translation of Korean names look similar to each other \cite{kim2020linguistics}, we also include the date of birth (DOB) to make it easier to uniquely identify each contestant. For those who are able to read Chinese, we put each contestant's name in Chinese characters as well.  

\textcolor{red}{Specify the column names we included, also the column names we printed here.}   

Add the metadata in the Excel file or the Appendix ?! 

Currently I prefer adding the metadata in the Excel file for proximity to the data itself.  

```{r options-setup, include=FALSE}
# Prevent tibble columns from truncating
options(dplyr.width = Inf)
```

```{r idol-school-data}
library(readxl)
idol_school = read_excel("UNFINISHED_Idol_School_Dataset.xlsx",
                         sheet="Idol_School_Dataset")

# Date of birth (DOB) should be date only, not a full timestamp.
idol_school$DOB = as.Date(idol_school$DOB)

columns_to_show = c("Name_Chn", "Name_Eng", "DOB", 
                    "Vocal", "Dance", "Physical", "Overall")

idol_school[1:20, columns_to_show]
```

## *Idol School*: Exploratory Data Analysis

\textcolor{red}{Context: Write about how the vocal, dance, and physical scores were evaluated.}   

Physical testing contains a group exercise and an individual exercise.   

Also mention the top performers in each category.  


\textcolor{red}{What changes did we make from the Wikipedia data?}   

Our presumption is that in each category, no two contestants should have the same score. However, after sorting the *Idol School* data by the physical scores, we found two 3.5's and two 1.2's. Especially that the two 3.5's belong to top-ranked contestants Bae Eun Yeong (裴恩英) and Park Ji Won (朴池原), this issue quickly caught our attention to make corrections to the data.   


\textcolor{red}{Physical: We found two 3.5's and two 1.2's after sorting the scores.}   

In the video clip, Park Ji Won (朴池原) and her partner were the first runner-up in the group physical exercise.^[Screenshot of the group physical exercise: <https://bit.ly/4a7QT9m>] We are surprised that Ji Won's physical score was only 3.5. According to the video's score table for contestants ranked 11th to 20th,^[<https://bit.ly/400KUhH>] Ji Won's physical score should be 6.2. The Wikipedia table shows an inconsistency in Ji Won's overall score, i.e., the average across the three categories. Ji Won's vocal score was 7.9, and her dance score was 5. These numbers seem to be reasonable for Ji Won, because she is known for excellent singing and good dancing as a performer.^[Park Ji Won was the main vocalist in *fromis_9*. <https://bit.ly/402yCFI>] Therefore, we assume both scores to be correct. If the physical score had really been 3.5, then Ji Won's overall score would be 5.47, dropping her from 13th place to the 18th. If the overall score of 6.37 had been correct, then Ji Won's physical score should be 6.2. The second scenario is more likely to be true, given the evidence we found in the video clip. Hence we corrected Ji Won's physical score to 6.2.      

\textcolor{red}{Physical: We found additional two 1.2's after sorting the scores.}   

The two 1.2 scores are more difficult to check for the underlying values, probably because they occurred in two contestants of lower ranking.^[Physical scores of all contestants in *Idol School*: <https://bit.ly/3DRNK0Z>] The two contestants, Jessica Lee (李瑟) and Michelle White (懷特·米雪兒), ranked in the lower half of all 41 contestants in terms of the overall ability test. Both of them got eliminated in the first round, so they did not receive much attention in the show. With the help of Google Translate,^[<https://translate.google.com/>] we were able to translate the image of Korean text to (readable) English. Finally, we discovered that Michelle White's physical score should be 1.3, not 1.2.    

*Idol School* (2017): Videos with subtitles in Simplified Chinese are available on the Bilibili platform.^[<https://www.bilibili.com/video/BV1554y1C7wj/>]

Screenshots saved:    
<https://github.com/star1327p/K-Pop-Dataset/tree/main/Idol_School_Rating_Screenshots> 

\textcolor{red}{Still need to write the description}  

```{r idol-school-eda}

vocal_sorted = sort(idol_school$Vocal, decreasing = TRUE)
dance_sorted = sort(idol_school$Dance, decreasing = TRUE)
physical_sorted = sort(idol_school$Physical, decreasing = TRUE)

# UNFINISHED HERE
combined_all_three = cbind(vocal_sorted, dance_sorted, physical_sorted)
sorted_scores_df = as.data.frame(combined_all_three)

sorted_scores_df[1:10,]
```

\textcolor{red}{Explain why we removed the 41st contestant whose scores were all zeros.}   

Som Hye In (慎惠仁) left the *Idol School* show due to health reasons. She was unable to complete the basic test, so her score was zero in all three categories (vocal, dance, and physical).   


\textcolor{red}{Check for the mean and median of each category score}  

```{r idol-mean-and-median}
# UNFINISHED HERE
# We MUST remove the 41st contestant's scores (all zeros)!!

# Output a table for the mean and median for (vocal, dance, physical)

metrics = c("Mean","Median")
vocal_stats = c(mean(idol_school$Vocal), median(idol_school$Vocal))
dance_stats = c(mean(idol_school$Dance), median(idol_school$Dance))
physical_stats = c(mean(idol_school$Physical), median(idol_school$Physical))

idol_stats_df = data.frame(metrics, vocal_stats, dance_stats, physical_stats)
names(idol_stats_df) = c("Metrics", "Vocal", "Dance", "Physical")

# UNFINISHED HERE
# Rounding to two decimal places?!

idol_stats_df
```

Do we need to look at the five-number summary?!   
http://en.wikipedia.org/wiki/Five-number_summary   

Five numbers = min, 1st quartile, median, 3rd quartile, max.  
Add: mean

\textcolor{red}{Explain why we removed the 41st contestant whose scores were all zeros.}

```{r idol-summary-stats}
# UNFINISHED HERE
# Convert to data.frame format like the median and mean above

print("Summary Statistics")
print("Vocal:")
print(summary(idol_school$Vocal[1:40]))
print("Dance:")
print(summary(idol_school$Dance[1:40]))
print("Physical:")
print(summary(idol_school$Physical[1:40]))
```


Shall we create a **box plot** using ggplot2 to compare the three sets of scores?   
https://www.sthda.com/english/wiki/ggplot2-box-plot-quick-start-guide-r-software-and-data-visualization


Correlation matrix  

\textcolor{red}{Need to explain the correlation coefficients and the K-Pop context.}  

Diagonal elements are always exactly 1.  

Create the scatterplots and/or correlation plots!   
\textcolor{red}{Use \texttt{ggplot} or not} ?!    

- Correlation between vocal and dance scores: 0.682
- Correlation between vocal and physical scores: 0.683
- Correlation between dance and physical scores: 0.543

The training at a K-Pop entertainment company in Korea usually includes vocal and dance lessons \cite{padget2017difficulties}, so it is reasonable to see a high correlation between vocal and dance scores. Theoretically dance and physical should be highly correlated \cite{dance2024strength}, but in the Idol School dataset, we observed a slightly lower correlation in dance vs physical than in dance vs vocal. Physical strength is essential to dancing, but dance also includes other critical elements such as technique and aesthetic expression \cite{geukes2023mirror}.   

Note that some contestants with a remarkably high score in dance but a low score in physical:  
e.g. Bae Eun Yeong (裴恩英)   
e.g. Lee Hae In (李海印)   

Or because too many contestants did not do well in the physical part ?!  
Evidence: Median in physical score is lower than the median in vocal or dance.  

```{r idol-scores-correlation}
# UNFINISHED HERE
cor(idol_school[,c("Vocal","Dance","Physical")])
```

Alternatively, we can also obtain the pairwise correlation of each category.  

```{r idol-scores-pairwise}
# UNFINISHED HERE
cor(idol_school$Vocal, idol_school$Dance)

# UNFINISHED HERE
# Need to print all three pairs.
# cor(idol_school$Dance, idol_school$Physical)
# cor(idol_school$Vocal, idol_school$Physical)
```

## Idol School: Additional Resources

Students who were eliminated from the show:  
<https://www.ptt.cc/bbs/fromis_9/M.1555819461.A.C73.html>

Someone else used random forests to predict the final ranking:  
<https://shavid.pixnet.net/blog/post/331691281>


## Read in the *Produce 48* Dataset

*Produce 48* dataset (2018)   

Wikipedia data: <https://en.wikipedia.org/wiki/Produce_48>  

\textcolor{red}{Need to write the data description}  

*Produce 48* featured 96 contestants primarily from South Korea and Japan.  
Footnote: Korea may include other countries, and the Korea-Japan split is not 1-1.  

Some former contestants in *Idol School* tried again in the *Produce 48* reality show in 2018.   

A total of 12 contestants were eventually selected from *Produce 48* to create the time-limited girl group \textit{IZ*ONE},^[<https://en.wikipedia.org/wiki/Iz*One>] which was active during 2018-2021 in both Korea and Japan.  

```{r produce-48-data}
produce_48_data = read_excel("UNFINISHED_Idol_School_Dataset.xlsx",
                             sheet="Produce_48_Dataset")

# Date of birth (DOB) should be date only, not a full timestamp.
produce_48_data$DOB = as.Date(produce_48_data$DOB)

columns_to_show = c("Name_Chn", "Name_Eng", "DOB", 
                    "First_Eval", "Second_Eval", "Final_Rank")

produce_48_data[1:20, columns_to_show]
```


Data entry complete for all contestants in *Produce 48*, including those who left in the middle of the show.  

Create a matrix for the two sets of ratings.  

For each rating, also check how many contestants are from Korea and how many are from Japan.  

Jo Yuri (曹柔理): A $\rightarrow$ F   

What about other participants?  

```{r produce-48-ranking-lowest}
# UNFINISHED HERE
produce_48_data[81:96, columns_to_show]
```


Nationality

```{r produce-48-country}
# UNFINISHED HERE
table(produce_48_data$Country)
```

# Tentative Placeholders

Write something here

## Test for Non-English Characters

CJK = Chinese, Japanese, Korean

Chinese example

RStudio有辦法打中文嗎？

```{r print-Chinese}
print("大家好，很高興能認識你們！")
```

Japanese example

思い出にするにはまだ早すぎる

```{r print-Japanese}
print("みやわき さくら")
print("宮脇 咲良")
```

This template does not support Korean characters yet.

## R Markdown Narrative

This is an `R` Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using `R` Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded `R` code chunks within the document. You can embed an `R` code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example in Figure \ref{fig:pressure}:

```{r pressure, fig.cap="Test Plot", echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the `R` code that generated the plot.

# Acknowledgments {.unnumbered}

The author is immensely grateful to her significant other, Hugh Hendrickson, for providing his support in the author's professional development.   

Technical discussions: Cheng-Shun (Adson) Liu and Chih-Kuang (Kevin) Lee.

\addcontentsline{toc}{section}{References} 
